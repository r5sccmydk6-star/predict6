{% extends "base.html" %}
{% block content %}
<div class="container">
    <h2>Predict Tomorrowâ€™s Stock Price</h2>

    <form method="get" action="/">
        <input type="text" name="ticker" placeholder="Enter stock symbol (e.g. AAPL, RELIANCE)" required>
        <button type="submit">Predict</button>
    </form>

    {% if error %}
        <p class="error">{{ error }}</p>
    {% endif %}

    {% if ticker %}
        <h3>Results for {{ ticker }}</h3>
        <p>{{ summary }}</p>
        <p><strong>{{ conclusion }}</strong></p>
        <img src="data:image/png;base64,{{ plot_url }}" alt="Stock Prediction Graph">

        <h4>Sample Actual vs Predicted Prices</h4>
        <table>
            <tr><th>Actual</th><th>Predicted</th></tr>
            {% for actual, pred in table_data %}
            <tr>
                <td>{{ actual|round(2) }}</td>
                <td>{{ pred|round(2) }}</td>
            </tr>
            {% endfor %}
        </table>
    {% endif %}
</div>
{% endblock %}
